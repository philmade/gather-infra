# Production overrides
# Usage: docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d

services:
  traefik:
    platform: linux/amd64
    restart: unless-stopped

  mysql:
    platform: linux/amd64
    restart: unless-stopped

  tinode:
    platform: linux/amd64
    volumes:
      - /opt/gather-secrets/tinode.conf:/tinode.conf:ro
    restart: unless-stopped

  gather-auth:
    platform: linux/amd64
    environment:
      TINODE_WS_URL: ${TINODE_WS_URL:-wss://gather.is/v0/channels}
    restart: unless-stopped

  gather-agents:
    platform: linux/amd64
    restart: unless-stopped

  gather-app:
    platform: linux/amd64
    restart: unless-stopped
